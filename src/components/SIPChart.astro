---
const { data } = Astro.props;
---

<canvas id="sipChart" width="400" height="200" data-chart={JSON.stringify(data)}></canvas>

<script type="module" client:load>
  import Chart from 'chart.js/auto';

  const canvas = document.getElementById('sipChart');
  const { years, values } = JSON.parse(canvas.getAttribute('data-chart'));

  window.renderChart = function(chartData) {
    new Chart(canvas, {
      type: 'line',
      data: {
        labels: chartData.years,
        datasets: [
          {
            label: 'Investment Value (â‚¹)',
            data: chartData.values,
            fill: true,
            borderWidth: 2,
          },
        ],
      },
    });
  };
</script>